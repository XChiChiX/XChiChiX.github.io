<div id="v-comments" class="post-comments<% if (!theme.valine.visitor) { %> lazy-load<% } %>"></div>
<script>
    var load_comm = () => {
        const init = () => {
            new Valine({
                el: '#v-comments',
                appId: '<%- theme.valine.app_id %>',
                appKey: '<%- theme.valine.app_key %>',
                visitor: <%- theme.valine.visitor %>,
                enableQQ: <%- theme.valine.enableQQ %>,
                path: '<%- url_for(page.path) %>',
                meta: ['nick', 'mail'],
                lang: 'zh-TW',
                placeholder: 'starburst stream!!',
                serverURLs: 'https://kj92p2vx.api.lncldglobal.com'
            });
        }
        if (typeof Valine === 'undefined') {
            const src = '<%- url_npm_cdn("valine@1.4.14/dist/Valine.min.js") %>';
            $.getScript(src, init);
        } else {
            init();
        }
    };
</script>
<noscript>Please enable JavaScript to view the <a href="https://valine.js.org/">comments powered by Valine.</a></noscript>
